const cartAdvanced=new Vue({el:"#cart-advanced",data:{activeItem:1,offered_by:cart_items.offered_by||"",email_to_video:cart_items.email_to_video||"",video_to:cart_items.video_to||"",instructions_to_video:cart_items.instructions_to_video||"",phone:cart_items.phone||"",occasion:cart_items.video_category||"",submit:!0},methods:{nextStep:function(e){formCheckValidationsPartial()&&(this.submit=!1,this.activeItem=e)},handlePhoneChange:function(e){this.phone=mtel(e.target.value)},handleInstructionsChange:function(e){this.instructions_to_video=e.target.value.trim()},step1Disabled:function(){return!this.offered_by||!polMailValidate(this.email_to_video)},video_toHandle:function(e){this.video_to=e.detail},occasionHandle:function(e){this.occasion=e.detail},isComplete:function(){return""!=this.offered_by&&""!=this.email_to_video&&""!=this.video_to&&""!=this.instructions_to_video&&2==this.activeItem&&this.occasion},isForOther:function(){return"other_one"==this.video_to},isInstructionsOk:function(){return checkWordsInInstructions(this.instructions_to_video)},handleSubmit:function(e){this.submit||e.preventDefault(),""===this.occasion&&(e.preventDefault(),polMessages.error("É Necessário escolher uma ocasião para o vídeo")),this.instructions_to_video.length<10&&(e.preventDefault(),polMessages.error("Preencha corretamente o campo de instruções. É através dele que o Ídolo saberá o que gravar no video."))}}});function formCheckValidationsPartial(){const e=document.querySelector("input[name=offered_by]"),t=document.querySelector("input[name=email_to_video]"),o=document.querySelector("input[name=phone]");return e.checkValidity()&&t.checkValidity()&&o.checkValidity()}function formCheckValidations(){let e=!0;const t=document.querySelector(form).elements;return[].map.call(t,t=>t.checkValidity()?e:e=t.checkValidity()),e}function checkWordsInInstructions(e){return!["música","musica","canta","cantar","toca","tocar","palinha","palhinha",'"'].some(t=>e.toLowerCase().includes(t))}function verify_checkbox_selected_to_hidde_or_show_fields(){}!function(e){e(document).ready((function(){verify_checkbox_selected_to_hidde_or_show_fields(),e("input, textarea").on("blur change paste click",(function(){var t=e("input[name=cart-item-key]").val(),o=e(this).attr("name");if(-1!==e.inArray(o,["offered_by","video_to","name_to_video","email_to_video","video_category","instructions_to_video","allow_video_on_page","phone"])){let i;i="allow_video_on_page"==o?e("#cart_"+o+"_"+t).is(":checked")?"on":"off":e(this).val(),e.ajax({type:"POST",url:polenObj.ajax_url,data:{action:"polen_update_cart_item",security:e("#woocommerce-cart-nonce").val(),polen_data_name:o,polen_data_value:i,cart_id:t},success:function(e){}})}}))}))}(jQuery);